let canvas=document.querySelector("canvas"),ctx=canvas.getContext("2d"),w=window.innerWidth,h=window.innerHeight,gravity=1,friction=.6,interract=!1,gravitation=!1,buttonGravity=document.querySelector("#gravity");buttonInterract=document.querySelector("#interract"),canvas.width=w,canvas.height=h,window.addEventListener("resize",(function(){canvas.width=w,canvas.height=h,init()})),buttonGravity.addEventListener("click",(function(t){t.preventDefault(),gravitation=!gravitation})),buttonInterract.addEventListener("click",(function(t){t.preventDefault(),interract=!interract}));let mouse={x:void 0,y:void 0};function Ball(t,i,a,r,n,e,s,o,c,d){this.x=t,this.y=i,this.r=a,this.dx=r,this.dy=n,this.redc=e,this.greenc=s,this.bluec=o,this.op=c,this.fill=d,this.draw=function(){ctx.beginPath(),ctx.strokeStyle=`rgba(${e}, ${s}, ${o}, ${c})`,ctx.fillStyle=`rgba(${e}, ${s}, ${o}, ${c})`,ctx.arc(this.x,this.y,this.r,2*Math.PI,!1),d&&ctx.fill(),ctx.stroke()},this.update=function(){(this.x>w-this.r||this.x<0+this.r)&&(this.dx=-this.dx),(this.y>h-this.r||this.y<0+this.r)&&(this.dy=-this.dy),this.x+=this.dx,this.y+=this.dy,interract&&this.interractivity(),gravitation&&(this.y+this.r+this.dy>h?this.dy=-this.dy*friction:this.dy+=gravity,this.y+=this.dy),this.draw()},this.interractivity=function(){mouse.x-this.x<a+20&&mouse.x-this.x>-a-20&&mouse.y-this.y<a+20&&mouse.y-this.y>-a-20?this.r+=3:(this.r>a||this.r>=200)&&(this.r-=3)}}window.addEventListener("mousemove",(function(t){mouse.x=t.x,mouse.y=t.y}));let ballArray=[];function init(){ballArray=[];for(let t=0;t<100;t++){let t=20+40*Math.random(),i=Math.random()*(w-2*t)+t,a=Math.random()*(h-2*t)+t,r=Math.random()*(h/2-2*t)+t,n=100+60*Math.random(),e=100+60*Math.random(),s=100+155*Math.random(),o=Math.random(),c=2*(Math.random()-.5),d=2*(Math.random()-.5),l=t*Math.random()/4,y=Math.round(Math.random());ballArray.push(new Ball(i,a,t,c,d,n,e,s,o,y)),gravitation&&ballArray.push(new Ball(i,r,t,c,l,n,e,s,o,y))}}function animate(){requestAnimationFrame(animate),ctx.clearRect(0,0,w,h);for(var t=0;t<ballArray.length;t++)ballArray[t].update()}init(),animate();